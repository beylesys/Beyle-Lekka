{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "JournalExtraction",
  "type": "object",
  "required": ["journal"],
  "additionalProperties": false,
  "properties": {
    "document_id": { "type": "string", "minLength": 1 },
    "transaction_date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
    "currency": { "type": "string", "minLength": 3, "maxLength": 3 },
    "narration": { "type": "string", "maxLength": 512 },
    "journal": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["debit_account", "credit_account", "amount"],
        "additionalProperties": false,
        "properties": {
          "debit_account": { "type": "string", "minLength": 1, "maxLength": 64 },
          "credit_account": { "type": "string", "minLength": 1, "maxLength": 64 },
          "amount": { "type": "number", "exclusiveMinimum": 0 },
          "narration": { "type": "string", "maxLength": 512 },
          "date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" }
        }
      }
    }
  }
}
